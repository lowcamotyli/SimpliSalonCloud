{
  "permissions": {
    "allow": [
      "Bash(xargs:*)",
      "Bash(grep:*)",
      "Bash(ls:*)",
      "Bash(npm install:*)",
      "Bash(chmod:*)",
      "Bash(supabase db dump:*)",
      "Bash(npx tsc:*)",
      "Bash(supabase status:*)",
      "Bash(npm run build:*)",
      "Bash(npx supabase db execute:*)",
      "Bash(npx supabase --help:*)",
      "Bash(npx supabase login:*)",
      "Bash(npx supabase link:*)",
      "Bash(SERVICE_KEY=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVia3VlaXdlbGFycGxuYmhxbW9hIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc2OTMzMjQ0MiwiZXhwIjoyMDg0OTA4NDQyfQ.ViW4h2gsE0wGKubrkuA9qn6aTfgHs8xo0BNcvK2nV4Y\")",
      "Bash(curl -s -X POST \"https://ubkueiwelarplnbhqmoa.supabase.co/rest/v1/rpc/exec_sql\" -H \"apikey: $SERVICE_KEY\" -H \"Authorization: Bearer $SERVICE_KEY\" -H \"Content-Type: application/json\" -d '{\"\"query\"\": \"\"SELECT 1\"\"}')",
      "Bash(curl:*)",
      "Bash(ACCESS_TOKEN=\"sbp_ad067433e2821fe40daede2e1ee1715f86720c96\")",
      "Bash(npx next build:*)",
      "Bash(find \"d:\\\\SimpliSalonCLoud/app/\\(dashboard\\)/[slug]/clients\" -type f -name \"*.tsx\" -o -name \"*.ts\")",
      "Bash(find \"d:\\\\SimpliSalonCLoud\\\\app\\\\\\(dashboard\\)\\\\[slug]\\\\clients\" -name \"layout.tsx\")",
      "Bash(supabase migration list)",
      "Bash(supabase db push)",
      "Bash(gemini --version)",
      "Bash(gemini)",
      "Bash(head -30 /d/SimpliSalonCLoud/app/\\\\\\(dashboard\\\\\\)/[slug]/settings/integrations/booksy/page.tsx)",
      "Bash(supabase projects list)",
      "Bash(supabase db execute --sql \"SELECT column_name, data_type, column_default FROM information_schema.columns WHERE table_name = ''salon_settings'' AND column_name LIKE ''p24%'' ORDER BY ordinal_position;\")",
      "Bash(PGPASSWORD=7ac6BYKEYKnW06ie psql \"postgresql://postgres.ubkueiwelarplnbhqmoa:7ac6BYKEYKnW06ie@aws-0-eu-west-1.pooler.supabase.com:5432/postgres\" -c \"SELECT column_name, data_type, column_default FROM information_schema.columns WHERE table_name = ''salon_settings'' AND column_name LIKE ''p24%'' ORDER BY ordinal_position;\")",
      "Bash(node -e \":*)",
      "Bash(gemini -p \"Generate a Next.js 14 App Router server component file: app/\\(dashboard\\)/[slug]/settings/layout.tsx:*)",
      "Bash(app/\\\\\\(dashboard\\\\\\)/[slug]/settings/layout.tsx)",
      "Bash(echo \"EXIT: $?\")",
      "Bash(supabase db push --dry-run)",
      "Bash(node scripts/test-roles-e2e.mjs)",
      "Bash(gemini -p \"Generate two Next.js 14 App Router API route files for a SaaS salon app. Use TypeScript. Follow these patterns exactly from the existing codebase::*)",
      "Bash(pnpm tsc --noEmit)",
      "Bash(npx shadcn@latest add tooltip --yes)",
      "Bash(npx supabase --version)",
      "Bash(wslpath -w /tmp/gemini_consolelog.txt)",
      "Bash(cygpath -w /tmp/gemini_consolelog.txt)",
      "Bash(gemini --help)",
      "Bash(gemini -p \"Output ONLY valid TypeScript code \\(no markdown fences, no explanations\\). Create a Next.js App Router rate-limit middleware. The code must::*)",
      "Bash(echo \"written: $?\")",
      "Bash(gemini -p \"Output ONLY valid SQL \\(no markdown fences, no explanations\\). Write a PostgreSQL migration for Supabase to create a webhook_replay_cache table. Requirements: - Table: webhook_replay_cache - Columns: event_id TEXT PRIMARY KEY, expires_at TIMESTAMPTZ NOT NULL - RLS disabled \\(internal use only, accessed via service_role\\) - Index on expires_at for cleanup queries - Comment: used for SMSAPI webhook replay protection Do not use any tools. Just output SQL directly.\" --output-format text)",
      "Bash(echo \"OK: $?\")",
      "Bash(gemini -p \"Output ONLY valid SQL \\(no markdown, no explanations, no fences\\). Write a PostgreSQL function for Supabase to atomically check slot availability and insert a booking. Requirements: - Function name: create_booking_atomic - Parameters: p_salon_id UUID, p_employee_id UUID, p_client_id UUID, p_service_id UUID, p_booking_date DATE, p_booking_time TIME, p_duration INT, p_base_price NUMERIC, p_notes TEXT, p_status TEXT, p_created_by UUID, p_source TEXT - Use SELECT ... FOR UPDATE on bookings table to lock the slot \\(same employee_id + booking_date + booking_time, status != ''cancelled'', deleted_at IS NULL\\) - If slot is taken, RAISE EXCEPTION with SQLSTATE ''23P01'' and message ''slot_taken'' - If slot is free, INSERT into bookings and RETURN the new row as SETOF bookings - SECURITY DEFINER, LANGUAGE plpgsql - Only output SQL, nothing else\" --output-format text)",
      "Bash(pnpm audit --audit-level=high)",
      "Bash(npm audit --audit-level=high)",
      "Bash(npm audit fix)",
      "Bash(npm view eslint-config-next versions --json)",
      "Bash(npm view serialize-javascript version)",
      "WebFetch(domain:open.manus.ai)",
      "Bash(python -m json.tool)",
      "Bash(PROMPT='You are a senior security auditor and code reviewer. Perform a comprehensive security and code quality audit of SimpliSalonCloud â€” a Polish SaaS platform for hair salon management built with Next.js 14 App Router, TypeScript, Supabase, Tailwind + shadcn/ui.:*)"
    ]
  }
}
